(function(e){function a(a){for(var s,i,r=a[0],l=a[1],c=a[2],u=0,v=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&v.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(a);while(v.length)v.shift()();return o.push.apply(o,c||[]),t()}function t(){for(var e,a=0;a<o.length;a++){for(var t=o[a],s=!0,r=1;r<t.length;r++){var l=t[r];0!==n[l]&&(s=!1)}s&&(o.splice(a--,1),e=i(i.s=t[0]))}return e}var s={},n={app:0},o=[];function i(a){if(s[a])return s[a].exports;var t=s[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=s,i.d=function(e,a,t){i.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,a){if(1&a&&(e=i(e)),8&a)return e;if(4&a&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var s in e)i.d(t,s,function(a){return e[a]}.bind(null,s));return t},i.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(a,"a",a),a},i.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=a,r=r.slice();for(var c=0;c<r.length;c++)a(r[c]);var d=l;o.push([0,"chunk-vendors"]),t()})({0:function(e,a,t){e.exports=t("56d7")},"56d7":function(e,a,t){"use strict";t.r(a);var s=t("2b0e"),n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],i=t("2877"),r={},l=Object(i["a"])(r,n,o,!1,null,null,null),c=l.exports,d=t("9483");Object(d["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var u=t("8c4f"),v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container-login"},[t("div",{staticClass:"login"},[e._m(0),e.hidden?t("div",{class:e.alert?"alert true":"alert false"},[t("div",[t("p",[e._v(e._s(e.message))])])]):e._e(),t("div",{staticClass:"body"},[t("form",{on:{submit:function(a){return a.preventDefault(),e.logar()}}},[t("div",{staticClass:"input-container"},[t("label",{attrs:{for:"usuario"}},[e._v("Usuário:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario,expression:"usuario"}],attrs:{type:"text",id:"usuario",name:"usuario"},domProps:{value:e.usuario},on:{input:function(a){a.target.composing||(e.usuario=a.target.value)}}})]),t("div",{staticClass:"input-container"},[t("label",{attrs:{for:"senha"}},[e._v("Senha:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.senha,expression:"senha"}],attrs:{type:"password",id:"senha",name:"senha"},domProps:{value:e.senha},on:{input:function(a){a.target.composing||(e.senha=a.target.value)}}})]),e._m(1),e._m(2)])])])])},p=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t("cf05"),alt:"logo"}})])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"input-container-btn"},[t("input",{attrs:{type:"submit",value:"Entrar"}})])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container-link"},[t("a",{attrs:{href:"/cadastre-se"}},[e._v("Cadastre-se")])])}],h=t("bc3a"),m=t.n(h);let f=localStorage.getItem("token");const g=m.a.create({baseURL:"http://api-finac.herokuapp.com",headers:{"Content-Type":"application/json",Authorization:f}});var _=g,C={name:"login",data(){return{usuario:null,senha:null,alert:!1,hidden:!1,message:""}},methods:{logar(){_.post("/login",{login:this.usuario,senha:this.senha}).then(e=>{if(e.data.autenticado){this.message="Cadastro encontrado, aguarde o redirecionamento para o painel de contas",this.alert=!0,this.hidden=!0;let a=setInterval(()=>{localStorage.setItem("token",e.data.token),localStorage.setItem("usuario",e.data.usuario),window.location.href="/painel",clearInterval(a)},2e3)}else this.message="Usuário/ou senha inválido(s)",this.hidden=!0}).catch(e=>{e.response.data&&e.response.data.senha&&e.response.data.login?(this.message="Por favor, preencha todos os campos",this.hidden=!0):(e.response.data&&e.response.data.login&&(this.message="Por favor, preencha o campo usuário",this.hidden=!0),e.response.data&&e.response.data.senha&&(this.message="Por favor, preencha o campo senha",this.hidden=!0))})}}},b=C,w=Object(i["a"])(b,v,p,!1,null,null,null),y=w.exports,$=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container-login"},[t("div",{staticClass:"login"},[e._m(0),e.hidden?t("div",{class:e.alert?"alert true":"alert false"},[t("div",[t("p",[e._v(e._s(e.message))])])]):e._e(),t("div",{staticClass:"body"},[t("form",{on:{submit:function(a){return a.preventDefault(),e.logar()}}},[t("div",{staticClass:"input-container"},[t("label",{attrs:{for:"usuario"}},[e._v("Usuário:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.usuario,expression:"usuario"}],attrs:{type:"text",id:"usuario",name:"usuario"},domProps:{value:e.usuario},on:{input:function(a){a.target.composing||(e.usuario=a.target.value)}}})]),t("div",{staticClass:"input-container"},[t("label",{attrs:{for:"senha"}},[e._v("Senha:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.senha,expression:"senha"}],attrs:{type:"password",id:"senha",name:"senha"},domProps:{value:e.senha},on:{input:function(a){a.target.composing||(e.senha=a.target.value)}}})]),t("div",{staticClass:"input-container"},[t("label",{attrs:{for:"senhaconfirma"}},[e._v("Confirmar Senha:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmasenha,expression:"confirmasenha"}],attrs:{type:"password",id:"senhaconfirma",name:"senhaconfirma"},domProps:{value:e.confirmasenha},on:{input:function(a){a.target.composing||(e.confirmasenha=a.target.value)}}})]),e._m(1)])])])])},x=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"img"},[s("img",{attrs:{src:t("cf05"),alt:"logo"}})])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"input-container-btn"},[t("input",{attrs:{type:"submit",value:"Cadastre-se"}})])}],E={name:"cadastro",data(){return{usuario:null,senha:null,confirmasenha:null,alert:!1,hidden:!1,message:""}},methods:{logar(){if(this.senha!=this.confirmasenha)return this.message="Desculpe, senha não conferem",void(this.hidden=!0);_.post("/usuario",{login:this.usuario,senha:this.senha}).then(e=>{if("Usuário cadastrado com sucesso"===e.data.message){this.message="Cadastro efetuado com sucesso, Aguarde o redirecionamento para o login",this.alert=!0,this.hidden=!0;let e=setInterval(()=>{window.location.href="/",clearInterval(e)},2e3)}else this.message=e.data.message,this.alert=!1,this.hidden=!0}).catch(e=>{e.response.data.message?(this.message="Usuário já existe.",this.hidden=!0):e.response.data&&e.response.data.senha&&e.response.data.login?(this.message="Por favor, preencha todos os campos",this.hidden=!0):(e.response.data&&e.response.data.login&&(this.message="Por favor, preencha o campo usuário",this.hidden=!0),e.response.data&&e.response.data.senha&&(this.message="Por favor, preencha o campo senha",this.hidden=!0))})}}},P=E,S=Object(i["a"])(P,$,x,!1,null,null,null),j=S.exports,k=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container-painel"},[e._m(0),t("div",{staticClass:"body-sub"},[t("div",{staticClass:"vindas"},[t("div",[t("div",[t("h1",[e._v(e._s(e.usuario()))])]),e._m(1)]),t("div",[t("button",{on:{click:function(a){return e.atualizar()}}},[t("i",{staticClass:"fa fa-refresh"}),e._v(" Atualizar Métricas ")]),t("button",{on:{click:function(a){return e.sair()}}},[t("i",{staticClass:"fa fa-sign-out"}),e._v(" Finalizar sessão ")])])]),t("div",{staticClass:"container-dados"},[t("div",{staticClass:"content-finan saldo"},[e._m(2),t("div",{staticClass:"valor"},[e._v(" R$ "+e._s(e.format(e.dados.saldo))+" ")])]),t("div",{staticClass:"content-finan total"},[e._m(3),t("div",{staticClass:"valor"},[e._v(" R$ "+e._s(e.format(e.dados.total))+" ")])]),t("div",{staticClass:"content-finan receitas"},[e._m(4),t("div",{staticClass:"valor"},[e._v(" R$ "+e._s(e.format(e.dados.totalReceitas))+" ")])]),t("div",{staticClass:"content-finan despesas"},[e._m(5),t("div",{staticClass:"valor"},[e._v(" R$ "+e._s(e.format(e.dados.totalDespesas))+" ")])])]),t("div",{staticClass:"extrato"},[t("div",{staticClass:"titulo-container"},[t("h1",[t("b",[e._v("("+e._s(e.contas.length)+")")]),e._v(" - Entradas/Saidas - Mensal")])]),e.contas&&e.contas.length>0?t("div",{staticClass:"item-extratos"},e._l(e.contas,(function(a){return t("div",{key:a.id,staticClass:"item"},[t("div",{staticClass:"header-item"},[t("div",{staticClass:"header-img"},[t("i",{class:"TipoCategoria.receita"===a.categoria.tipo?"fa fa-arrow-up a":"fa fa-arrow-down b"})]),t("div",{staticClass:"header-desc"},[t("span",[t("b",[e._v(e._s(a.dataMovimentacao.replace(/[_]/g,"/")))]),e._v(" - "+e._s(a.descricao))]),t("span",[e._v(e._s(a.categoria.nome))])])]),t("div",{staticClass:"body-item"},[t("span",{class:"TipoCategoria.receita"===a.categoria.tipo?"a":"b"},[e._v("R$ "+e._s(e.format(a.valor)))])])])})),0):t("div",[e._m(6)])])])])},O=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"header"},[t("div",{staticClass:"header-menu"},[t("div",{staticClass:"logo"},[t("h1",[e._v("Controle Já")])])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("p",[e._v("Administre suas contas (Receitas, despesas, saldo e total).")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"titulo"},[t("div",[t("i",{staticClass:"fa fa-money"})]),t("div",[t("span",[e._v("Saldo:")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"titulo"},[t("div",[t("i",{staticClass:"fa fa-credit-card"})]),t("div",[t("span",[e._v("Total:")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"titulo"},[t("div",[t("i",{staticClass:"fa fa-arrow-up"})]),t("div",[t("span",[e._v("Receitas")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"titulo"},[t("div",[t("i",{staticClass:"fa fa-arrow-down"})]),t("div",[t("span",[e._v("Despesas")])])])},function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"warning"},[s("div",[s("img",{attrs:{src:t("73f5"),alt:""}})]),s("div",[s("h1",[e._v("Oops ...")]),s("h2",[e._v("Nenhum lançamento encontrado até o momento.")])])])}];const R=t("22f2");var I={name:"painel",data(){return{contas:[],dados:{totalReceitas:0,totalDespesas:0,total:0,saldo:0}}},methods:{getFinanceiro(){_.get("/movimentacoes/202003").then(e=>{this.contas=e.data}).catch(e=>{if(401!==e.response.status&&400!==e.response.status);else{let e=setInterval(()=>{localStorage.clear(),window.location.href="/",clearInterval(e)},2e3)}}),_.get("/movimentacoes/total/202003").then(e=>{this.dados.totalReceitas=e.data.receitas.total,this.dados.totalDespesas=e.data.despesas.total,this.dados.saldo=e.data.saldo,this.dados.total=e.data.total})},format(e){return R(e)},usuario(){return localStorage.getItem("usuario")},atualizar(){this.contas=[],this.dados={totalReceitas:0,totalDespesas:0,total:0,saldo:0},this.getFinanceiro()},sair(){localStorage.clear(),this.$router.go()}},created(){this.getFinanceiro()}},N=I,A=Object(i["a"])(N,k,O,!1,null,null,null),D=A.exports;s["a"].use(u["a"]);const M=async(e,a,t)=>{let s=localStorage.getItem("token");if(!s)return t("/");t()},T=[{path:"/",name:"Acessar Controle Já",component:y},{path:"/cadastre-se",name:"Controle Já | Cadastre - se",component:j},{path:"/painel",name:"Controle Já",component:D,beforeEnter:M}],F=new u["a"]({mode:"history",base:"/",routes:T});var J=F;s["a"].config.productionTip=!1,new s["a"]({router:J,render:function(e){return e(c)}}).$mount("#app")},"73f5":function(e,a,t){e.exports=t.p+"img/warning.2a8abd75.png"},cf05:function(e,a,t){e.exports=t.p+"img/logo.7815f6b0.png"}});
//# sourceMappingURL=app.7e0472ad.js.map